<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <script>                                                        
                                                                    
      $(document).ready(function(){                                  
        var $body = $('body');                                      
        $body.html('');

        // var index = streams.home.length - 1;
        // while(index >= 0){
        //   var tweet = streams.home[index];
        //   var $tweet = $('<div></div>');
        //   $tweet.text('@' + tweet.user + ': ' + tweet.message + "created at: " + tweet.created_at);
        //   $tweet.appendTo($body);
        //   index -= 1;
        // }

        var prevLength = streams.home.length;

        function createTweet(tweetObject) {
            var $tweetDiv = $('<div class="tweetDiv"></div>');
            var $tweetHeader = $("<div class='tweetHeader'></div>")
            var $tweetTime = $("<div class='timeStamp'></div>")
            var $tweetMsg = $("<p class='tweetMsg'></p>")
            
            $tweetTime.text(tweetObject.created_at);                //adding in content
            $tweetHeader.text(tweetObject.user);
            $tweetMsg.text(tweetObject.message);

            $tweetHeader.appendTo($tweetDiv);                 //creating whole tweet
            $tweetTime.appendTo($tweetDiv);
            $tweetMsg.appendTo($tweetDiv);

            return $tweetDiv;
        }
       

        function displayNewTweets() {
          var currentLength = streams.home.length;
          //disp from current length to prev length
          for (var i = currentLength-1; i > prevLength; i--) {

            var tweetDiv = createTweet(streams.home[i]);     //Create tweet object
            tweetDiv.appendTo($body);                        //adding to page
          }
          prevLength = currentLength;             //update length of index
        }
        displayNewTweets();

        function refresh() {
          displayNewTweets();
          window.setTimeout(refresh, 3000);
        }
        refresh();

        function getUsrTimeline() {
          $(".tweetHeader").on(click, function(){
            //clicking should display tweets from streams.users.username[array of tweets]


          })
          

        }

      });

    </script>

  </body>
</html>




<!-- 
  streams is an object with two properties: users and streams.
  streams constantly gets updated.
  streams.home = [{created_at: some time, message: "some message", user: "some user"}, ] = an array of objects with 3 properties. Contains tweets from all users you follow.
  streams.users =  {user1: [array of all users tweets]}, 'shawndrost', 'user8'] = an array of strings of all usernames you're following

  1.)show the user new tweets

  -->