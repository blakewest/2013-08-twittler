<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>                                                        
                                                                    
      $(document).ready(function(){                                  
        var $body = $('body');                                      
        $body.html('');

        var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');
          $tweet.text('@' + tweet.user + ': ' + tweet.message + "created at: " + tweet.created_at);
          $tweet.appendTo($body);
          index -= 1;
        }

        var prevLength = streams.home.length;

        function refresh() {
          //initialize length of streams.home.
          //get current length of streams.home.
          var currentLength = streams.home.length;
          //disp from current length to prev length
          for (var i = currentLength-1; i > prevLength; i--) {
            var tweet = streams.home[i]
            var $tweetDiv = $('<div></div>');
            var $tweetTime = $("<p class='timeStamp'></p>")
            $tweetTime.text(tweet.created_at);
            $tweetDiv.text('@' + tweet.user + ": " + tweet.message);
            $tweetTime.appendTo($tweetDiv);
            $tweetDiv.appendTo($body);
          }
          prevLength = currentLength;             //update length of index

          //window.setTimeout(refresh, 3000);
        }
        refresh();

      });

    </script>

  </body>
</html>




<!-- 
  streams is an object with two properties: users and streams.
  streams constantly gets updated.
  streams.home = [{created_at: some time, message: "some message", user: "some user"}, ] = an array of objects with 3 properties. Contains tweets from all users you follow.
  streams.users =  {user1: [array of all users tweets]}, 'shawndrost', 'user8'] = an array of strings of all usernames you're following

  1.)show the user new tweets

  -->